---
id: data_sources
title: Data Sources
sidebar_label: Data Sources
---

## Introduction ##

Service Workbench can host Studies internally, and provide access to External Studies residing in S3 buckets external to the AWS account where the application was deployed. The Data Sources page enables administrators to configure and manage these Studies.

The external study account must provide Service Workbench with permissions to access the specific S3 bucket and path that contain the data for the External Study. These permissions are created in the external account using an AWS CloudFormation template generated by the application.

The Data Sources page lists External Studies that have been registered with Service Workbench.  External Studies also appear on the Studies page, where permissions can be configured.

## Registering an External Study with Service Workbench ##

To register an External Study, follow these steps:

1.	Navigate to the **Data Sources** page using the menu on the left.
2.	Click the **Register Study** button.
3.	Provide the AWS Account ID for the AWS account containing the S3 bucket.
    1.	Previously registered External Study Accounts are available in the drop-down list.
    2.	If a previously registered account is chosen, skip to step 7.
4.	Select the Region that will be used to deploy the onboarding template.
5.	Provide an Account Name for identifying this account in the Service Workbench UI.
6.	Provide optional Contact Information for the account.
7.	Provide the Bucket Name of the external S3 bucket.
    1.	Previously registered External Buckets are available in the drop-down list.
    2.	If a previously registered bucket is chosen, skip to step 10.
8.	Provide the Bucket Region
9.	Specify the Bucket Default Encryption:
    1.	If the external bucket uses SSE-KMS, then the KMS ARN field is required.
10.	Click **Add Study**
11.	Provide a unique Study ID
12.	Provide a Study Name for identifying the study in the Service Workbench UI
13.	Specify the Study Folder (path in the S3 bucket)
14.	Specify the Project
15.	Specify the Type. For more information (see Studies topic for more information on Study Types).
16.	Specify the maximum level of Access: Read Only or Read/Write.
    1. Note: this level of permission, or a lesser level of permission, can be assigned on a per-user basis on the Studies page, if it is an Organization Study.
17.	Provide Description
18.	Provide Study KMS ARN if appropriate.
19.	Specify one or more Admins for the Study, if it is an Organization Study. This can be edited later on the Studies page.
20.	Click **Save & Continue**

An information panel will be displayed indicating the Account, Bucket, and Study have been registered within Service Workbench. The final step is to use the generated CloudFormation template to onboard the account.

## Onboarding an External Study Account ##

If the external study account is being onboarded with Service Workbench for the first time, then *Create Stack* option will be selected. The application will generate a new CloudFormation template suitable for first-time onboarding.

If the external study account has already been onboarded (for example, to register an External Study), then the *Update Stack* option will be selected. The application generates an update to the previously deployed CloudFormation template.

1.	In the Register Study window, click **Next** to display CloudFormation template information.
2.	The generated CloudFormation template, specific to the external study account and external S3 bucket, will be displayed. The appropriate *Create Stack* or *Update Stack* option will be selected.
3.	**If you have admin access** to the external study account:
	1.	In a new browser tab, log in to the external study account in the AWS Management Console. Ensure the correct region is selected.
	2.	In Service Workbench, click the **Create Stack** or **Update Stack** button as appropriate to load the CloudFormation template into the AWS Management Console.
	3.	In AWS Management Console, follow the prompts and click **Create Stack**.
	4.	In Service Workbench, click **Done**.
4.	**If you do not have admin access** to the AWS account where the S3 bucket resides:
	1.	Click the button to copy the CloudFormation template link to the clipboard.
	2.	Create an email to the admin(s) of the account containing the link to the CloudFormation template.
	3.	Note: the link to the CloudFormation template will expire in 12 hours.
	4.	Click **Done**.
5.	The Data Sources page will be displayed, with the newly registered study in the *Pending* status. After all onboarding has been completed and Service Workbench can reach the Study, it will show as Available. Click Test Connection.

## Removing External Studies ##
Unfortunately, removing External Studies is not supported at this time â€” it will be available in a future release.

In the meantime, to remove access to the data, in the external study account, delete the CloudFormation stack in the AWS account to remove the permissions enabling access to the data.


