
# The stack name of the 'infrastructure' serverless service
cicdSourceStackName: ${self:custom.settings.namespace}-cicd-src

# AWS Region of the source repository
# Currently, the source code repo and the solution target aws region are same so use "awsRegion" variable
codeCommitRepoAwsRegion: ${self:custom.settings.awsRegion}

# The git branch name of the source code repository the code pipeline should build and deploy
codeCommitRepoBranchName: master

# Name of the AWS CodePipeline instance
pipelineName: ${self:custom.settings.namespace}-${self:custom.settings.codeCommitRepoBranchName}

# Flag indicating whether to create a staging environment.
# If this flag is set to true the pipeline will first deploy the solution to a staging environment before deploying the
# solution to the target environment. By default, the staging environment is named by suffixing "stg" to the
# target environment name.
# For example, if the name of the target environment is "prod" the staging env will be named "prodstg".
# You can change the name of the staging environment by specifying "stgEnvName" setting
# If this flag is set to true then you MUST also provide settings file for the staging env.
# For example, if createStagingEnv=true and if the stgEnvName=t"prodstg" then make sure you have
# "prodstg.yml" file in top level "config/settings" directory
createStagingEnv: true

# Flag indicating whether to require manual approval before deploying to target environment
requireManualApproval: true

# Flag indicating whether to run integration tests against the target environment
# Set this to false if you do not want to run automated tests against target env (such as production)
# This flag is only to control tests against target env. The tests are always run against staging env
# when "createStagingEnv" is "true" irrespective of this flag.
runTestsAgainstTargetEnv: false

# Name of the staging environment to run the integration tests against.
# This setting is ignored when createStagingEnv is not true.
stgEnvName: ${self:custom.settings.envName}stg
