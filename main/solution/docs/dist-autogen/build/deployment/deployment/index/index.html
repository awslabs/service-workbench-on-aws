<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">Deployment | Service Workbench Platform</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Deployment | Service Workbench Platform"><meta data-react-helmet="true" name="description" content="Run main deployment script"><meta data-react-helmet="true" property="og:description" content="Run main deployment script"><meta data-react-helmet="true" property="og:url" content="https://override-me.com/docs/deployment/deployment/index"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://override-me.com/docs/deployment/deployment/index"><link rel="stylesheet" href="/docs/styles.fbe4f043.css">
<link rel="preload" href="/docs/styles.c0a53c60.js" as="script">
<link rel="preload" href="/docs/runtime~main.76781b24.js" as="script">
<link rel="preload" href="/docs/main.7eb1c7c3.js" as="script">
<link rel="preload" href="/docs/1.7cbe52f2.js" as="script">
<link rel="preload" href="/docs/2.49368f54.js" as="script">
<link rel="preload" href="/docs/59.d1c041d7.js" as="script">
<link rel="preload" href="/docs/935f2afb.1e90a91b.js" as="script">
<link rel="preload" href="/docs/17896441.5294e2c1.js" as="script">
<link rel="preload" href="/docs/cb94ea2c.a48e59ca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><strong class="navbar__title">Home</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Latest</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_30In"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3wy4">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3wy4">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><strong class="navbar__title">Home</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link">Versions</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3Kyr"><div class="docSidebarContainer_1Hfm" role="complementary"><div class="sidebar_3xSI"><div class="menu menu--responsive menu_2LhH"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_3ELd" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Service Workbench</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Deployment Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/summary">Summary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/redeployment">Deploying Updates</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Pre Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/prerequisites">Prerequisites</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/prereq_commands">Prerequisite Software</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/deployment_instance">Deployment Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/source_code">Source Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/configuration">Configuration</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/deployment/deployment/index">Deployment</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Post Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/index">Post Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/link_aws_account">Create or add an AWS Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/create_index_project">Create Indexes and Projects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/create_admin_user">Create an admin user</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Configuration</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Authentication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/configuration/auth/configuring_auth0">Configuring Auth0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/configuration/auth/configuring_idp">Configuring an Identity Provider</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/redeployment">Deploying Updates</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/reference/iam_role">Add an IAM role to an instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/reference/aws_services">AWS Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/reference/account_structure">Account Structure</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/introduction">Sidebar Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Sidebar</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Researcher View</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/dashboard/introduction">Dashboard</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Studies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/creating_a_study">Creating a Study</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/uploading_files">Uploading Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/sharing_a_study">Sharing a Study</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workspaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/create_workspace_study">Creating a Workspace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/terminating_a_workspace">Terminating a Workspace</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Administrator View</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/dashboard/introduction">Dashboard</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Auth</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/auth/introduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Users &amp; Roles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/users/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/users/user_roles">User Roles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/users/add_federated_user">Adding Federated Users</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Accounts</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/projects/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/projects/create_project">Create Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/projects/add_user_to_project">Adding a User to a Project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Indexes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/indexes/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/indexes/create_new_index">Create a New Index</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">AWS Accounts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/create_member_account">Create an AWS Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/invite_member_account">Invite an AWS Member Account</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Roles and Permissions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/master_role">Master Account Role</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/cross_account_execution_role">Cross Account Execution Role</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">API Keys</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/api_keys/introduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Studies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/creating_a_study">Creating a Study</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/uploading_files">Uploading Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/sharing_a_study">Sharing a Study</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workspaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/create_workspace_study">Creating a Workspace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/terminating_a_workspace">Terminating a Workspace</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workflows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/workflows/introduction">Introduction</a></li></ul></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/multiple_deployment_environments">Multiple Deployment Environments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/amazon_inspector">Amazon Inspector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/aws_cloudtrail">AWS CloudTrail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/aws_shield">AWS Shield</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/cicd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/rotating_jwt_token">Rotating the JWT Master Token</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/development/introduction">Introduction</a></li></ul></li></ul></div></div></div><main class="docMainContainer_14oX"><div class="container padding-vert--lg docItemWrapper_3CU2"><div class="row"><div class="col docItemCol_u6l3"><div class="docItemContainer_34jG"><article><header><h1 class="docTitle_FuEj">Deployment</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1d63" id="run-main-deployment-script"></a>Run main deployment script<a aria-hidden="true" tabindex="-1" class="hash-link" href="#run-main-deployment-script" title="Direct link to heading">#</a></h2><ul><li><p>Run <code>scripts/environment-deploy.sh &lt;stage&gt;</code></p></li><li><p>It takes 15-20 minutes</p></li><li><p>After the deployment has successfully finished, take a note of its
CloudFront URL, and the root password.</p><blockquote><ul><li>This information can be retrieved later by running
<code>scripts/get-info.sh &lt;stage&gt;</code></li></ul></blockquote></li><li><p>You can now log in to your deployment using the link above
and user <strong>root</strong>. The root user will be used only to create
administrative users which is covered in <a href="/docs/deployment/post_deployment/index">Post Deployment</a></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1d63" id="deploy-the-machine-images-sdc"></a>Deploy the machine-images SDC<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploy-the-machine-images-sdc" title="Direct link to heading">#</a></h2><p>The machine-images SDC provides the ability to launch EC2 images from
within the solution. The default solution installation currently provides
Sagemaker, EMR, and Linux and Windows EC2 as workspace options. The EC2 and EMR
options will not be available unless you have the corresponding machine images created.</p><blockquote><p>Note: You can choose to create your own machine image if you do not wish to use the ones included in this SDC. </p></blockquote><ul><li><p>Follow the steps outlined in
<code>main/solution/machine-images/README.md</code></p><blockquote><ul><li><p>Install Packer (<a href="https://www.packer.io/" target="_blank" rel="noopener noreferrer">https://www.packer.io/</a>). Packer is used to
create a custom AMI which is then pushed to the solution deployment.</p><blockquote><ul><li>Fetch the package with curl or wget, unzip it and copy
it to <code>/usr/local/bin</code></li></ul></blockquote></li><li><p>Change directory to <code>/main/solution/machine-images</code></p></li><li><p>run <code>pnpx sls build-image -s &lt;mystage&gt;</code></p></li><li><p>This will take 15 minutes</p></li></ul></blockquote></li><li><p>For examples of how to build a custom AMI, see:</p><blockquote><ul><li><code>config/infra/packer-ec2-&lt;platform&gt;-workspace.json</code></li><li><code>config/infra/provisioners/provision-hail.sh</code></li></ul></blockquote></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1d63" id="enable-active-directory-authentication-optional"></a>Enable Active Directory Authentication (optional)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#enable-active-directory-authentication-optional" title="Direct link to heading">#</a></h2><ul><li><p>Get the relying party information for AD integration (User Pool ID,
Relying Party ID, User Pool Signing Cert etc)</p></li><li><p>Run the script <code>scripts/get-relying-party.sh</code></p><blockquote><ul><li>Supply the output of this script to your Active Directory
administrator</li></ul></blockquote><p>See more on adding </p><ul><li><a href="/docs/deployment/configuration/auth/configuring_idp">an IDentityProvider</a></li><li><a href="/docs/deployment/configuration/auth/configuring_auth0">Auth0</a></li></ul></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/deployment/pre_deployment/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Configuration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/deployment/post_deployment/index"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Post Deployment Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2AdJ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#run-main-deployment-script" class="table-of-contents__link">Run main deployment script</a></li><li><a href="#deploy-the-machine-images-sdc" class="table-of-contents__link">Deploy the machine-images SDC</a></li><li><a href="#enable-active-directory-authentication-optional" class="table-of-contents__link">Enable Active Directory Authentication (optional)</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/styles.c0a53c60.js"></script>
<script src="/docs/runtime~main.76781b24.js"></script>
<script src="/docs/main.7eb1c7c3.js"></script>
<script src="/docs/1.7cbe52f2.js"></script>
<script src="/docs/2.49368f54.js"></script>
<script src="/docs/59.d1c041d7.js"></script>
<script src="/docs/935f2afb.1e90a91b.js"></script>
<script src="/docs/17896441.5294e2c1.js"></script>
<script src="/docs/cb94ea2c.a48e59ca.js"></script>
</body>
</html>