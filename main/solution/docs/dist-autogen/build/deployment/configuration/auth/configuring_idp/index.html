<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">Configuring an Identity Provider | Service Workbench Platform</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Configuring an Identity Provider | Service Workbench Platform"><meta data-react-helmet="true" name="description" content="The solution uses Amazon Cognito User Pools to federate identities from Microsoft Active Directory using ADFS and SAML2.0."><meta data-react-helmet="true" property="og:description" content="The solution uses Amazon Cognito User Pools to federate identities from Microsoft Active Directory using ADFS and SAML2.0."><meta data-react-helmet="true" property="og:url" content="https://override-me.com/docs/deployment/configuration/auth/configuring_idp"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://override-me.com/docs/deployment/configuration/auth/configuring_idp"><link rel="stylesheet" href="/docs/styles.fbe4f043.css">
<link rel="preload" href="/docs/styles.c0a53c60.js" as="script">
<link rel="preload" href="/docs/runtime~main.76781b24.js" as="script">
<link rel="preload" href="/docs/main.7eb1c7c3.js" as="script">
<link rel="preload" href="/docs/1.7cbe52f2.js" as="script">
<link rel="preload" href="/docs/2.49368f54.js" as="script">
<link rel="preload" href="/docs/59.d1c041d7.js" as="script">
<link rel="preload" href="/docs/935f2afb.1e90a91b.js" as="script">
<link rel="preload" href="/docs/17896441.5294e2c1.js" as="script">
<link rel="preload" href="/docs/1419a383.c44403bd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><strong class="navbar__title">Home</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Latest</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_30In"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3wy4">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3wy4">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><strong class="navbar__title">Home</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link">Versions</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3Kyr"><div class="docSidebarContainer_1Hfm" role="complementary"><div class="sidebar_3xSI"><div class="menu menu--responsive menu_2LhH"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_3ELd" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Service Workbench</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Deployment Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/summary">Summary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/redeployment">Deploying Updates</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Pre Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/prerequisites">Prerequisites</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/prereq_commands">Prerequisite Software</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/deployment_instance">Deployment Instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/source_code">Source Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/pre_deployment/configuration">Configuration</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/deployment/index">Deployment</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Post Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/index">Post Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/link_aws_account">Create or add an AWS Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/create_index_project">Create Indexes and Projects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/post_deployment/create_admin_user">Create an admin user</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Authentication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/configuration/auth/configuring_auth0">Configuring Auth0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/deployment/configuration/auth/configuring_idp">Configuring an Identity Provider</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deployment/redeployment">Deploying Updates</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/reference/iam_role">Add an IAM role to an instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/reference/aws_services">AWS Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deployment/reference/account_structure">Account Structure</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/introduction">Sidebar Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Sidebar</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Researcher View</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/dashboard/introduction">Dashboard</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Studies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/creating_a_study">Creating a Study</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/uploading_files">Uploading Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/sharing_a_study">Sharing a Study</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workspaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/create_workspace_study">Creating a Workspace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/terminating_a_workspace">Terminating a Workspace</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Administrator View</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/dashboard/introduction">Dashboard</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Auth</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/auth/introduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Users &amp; Roles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/users/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/users/user_roles">User Roles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/users/add_federated_user">Adding Federated Users</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Accounts</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/projects/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/projects/create_project">Create Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/projects/add_user_to_project">Adding a User to a Project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Indexes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/indexes/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/indexes/create_new_index">Create a New Index</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">AWS Accounts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/create_member_account">Create an AWS Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/invite_member_account">Invite an AWS Member Account</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Roles and Permissions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/master_role">Master Account Role</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/accounts/aws_accounts/cross_account_execution_role">Cross Account Execution Role</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">API Keys</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/api_keys/introduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Studies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/creating_a_study">Creating a Study</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/uploading_files">Uploading Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/studies/sharing_a_study">Sharing a Study</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workspaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/create_workspace_study">Creating a Workspace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/common/workspaces/terminating_a_workspace">Terminating a Workspace</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workflows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/user_guide/sidebar/admin/workflows/introduction">Introduction</a></li></ul></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/multiple_deployment_environments">Multiple Deployment Environments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/amazon_inspector">Amazon Inspector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/aws_cloudtrail">AWS CloudTrail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/aws_shield">AWS Shield</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/cicd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/best_practices/rotating_jwt_token">Rotating the JWT Master Token</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/development/introduction">Introduction</a></li></ul></li></ul></div></div></div><main class="docMainContainer_14oX"><div class="container padding-vert--lg docItemWrapper_3CU2"><div class="row"><div class="col docItemCol_u6l3"><div class="docItemContainer_34jG"><article><header><h1 class="docTitle_FuEj">Configuring an Identity Provider</h1></header><div class="markdown"><p>The solution uses Amazon Cognito User Pools to federate identities from Microsoft Active Directory using ADFS and SAML2.0.</p><p>From SAML federation point of view, the Cognito User Pool is the Service Provider (SP) and takes care of processing SAML assertions and the ADFS is the Identity Provider (IdP). We need to establish mutual trust between the SP and the IdP.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1d63" id="create-a-relying-party-rp-in-adfs"></a>Create a Relying Party (RP) in ADFS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-relying-party-rp-in-adfs" title="Direct link to heading">#</a></h2><p>These steps may vary based on your AD/ADFS version. Please contact your system administrator for configuring a relying party and setting up trust in Active Directory.</p><p>At high level the steps are as follows:</p><ol><li>Login to your Active Directory Domain Controller Machine and type “AD FS” in the Run window and open “AD FS 2.0 Management”.</li><li>Click “Add Relying Party Trust”.</li><li>In “Welcome” screen: Click Start.</li><li>In “Select Data Source”: Select “Enter data about the relying party manually”.</li><li>In “Specify Display Name”: Enter some display name and notes about the relying party (For example, “Cognito User Pool Relying Party”).</li><li>In “Choose Profile”: Select “AD FS 2.0 Profile”.</li><li>In “Configure Certificate”: Do NOT configure any cert. This is for encrypting SAML claims. The SP (i.e., the Cognito User Pool in this case) need private key to decrypt the claims if you configure this. Amazon Cognito User Pools currently do not support encrypted SAML assertions.</li><li>In “Configure URL”: Do NOT select any box. Click Next.</li><li>In “Configure Identifiers”: Do not configure anything yet.</li><li>In “Choose Issuance Authorization Rules”: Select “Permit all users to access this relying party”.</li><li>In “Ready to Add Trust”: Click Next.</li><li>In “Finish”: Click Close.</li><li>Next we need to configure claim attributes we want to be part of the SAML assertion. These attributes will be read by Cognito User Pool and mapped into standard Cognito Attributes as per the mapping configuration on the Cognito side.</li><li>To configure claims, the “Edit Claims” window may already be open at this point from last wizard. If not, you can open it by clicking the “Edit Claim Rules” link.</li><li>To configure claims, the “Edit Claims” window may already be open at this point from last wizard. If not, you can open it by clicking the “Edit Claim Rules” link.<ol><li>Add the following claims:<ol><li>Name ID</li><li>Name</li><li>Mail</li><li>Surname</li><li>Given Name</li></ol></li></ol></li><li>To add Name ID claim:<ol><li>Click “Add Rule”.</li><li>Select “Transform an Incoming Claim”, Click Next and then configure the Claim.</li></ol></li><li>Similarly add Name claim.</li><li>To add E-Mail claim:<ol><li>Click “Add Rule”.</li><li>Select “Send LDAP Attributes as Claims”, Click Next and then configure the Claim.</li></ol></li><li>Similarly add the Surname and Given Name claims.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1d63" id="configure-relying-party-information-on-the-solution-side"></a>Configure Relying Party information on the solution side<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configure-relying-party-information-on-the-solution-side" title="Direct link to heading">#</a></h2><p>Once you have created a Relying Party in ADFS you can then configure it within the Research as a Service solution.</p><ol><li>Extract the SAML metadata file from ADFS. The location of the metadata file may be different depending upon your version of AD/ADFS. Usually it is available at the following location: <code>https://&lt;DomainControllerDNSName&gt;/FederationMetadata/2007-06/FederationMetadata.xml.</code></li><li>Copy the above metadata file and place it at <code>/solution/post-deployment/config/saml-metadata/metadata.xml</code>.</li><li>Adjust your component specific settings file for the post-deployment component at <code>/solution/post-deployment/config/settings/&lt;your-environment-name&gt;.yml</code> and specify the <code>fedIdpMetadatas</code> setting as follows:</li></ol><div class="mdxCodeBlock_Dtr0"><div class="codeBlockContent_2PPg"><button type="button" aria-label="Copy code to clipboard" class="copyButton_2nNw">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_2VJL"><div class="codeBlockLines_2r9T" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fedIdpMetadatas: </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;[&quot;s3://</span><span class="token string variable" style="color:rgb(191, 199, 213)">${self</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">custom.settings.namespace}</span><span class="token string" style="color:rgb(195, 232, 141)">-artifacts/saml-metadata/metadata.xml&quot;]&#x27;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1d63" id="add-relying-party-trust-for-the-cognito-user-pool-on-the-adfs-side"></a>Add Relying Party trust for the Cognito User Pool on the ADFS side<a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-relying-party-trust-for-the-cognito-user-pool-on-the-adfs-side" title="Direct link to heading">#</a></h2><p>When you deploy the solution following the <a href="/docs/deployment/deployment/index"><strong>Initial Deployment</strong></a> instructions, a Cognito User Pool is created. Follow these steps to add a Relying Party trust for the Cognito User Pool:</p><ol><li>Log in to the AWS console and navigate to Amazon Cognito.</li><li>Select User Pools, you should see a user pool for your environment. The name of the Cognito User Pool will be in the following format <code>&lt;envName&gt;-&lt;solutionName&gt;-userpool</code>. The <code>&lt;envName&gt;</code> and the <code>&lt;solutionName&gt;</code> values here would be the values you specified for the corresponding settings in your settings file.</li><li>Select the user pool for your environment and take note of the following values:<ol><li>User pool ID: Copy the value for field “Pool Id”.</li><li>Domain prefix: Navigate to “App integration  Domain name” for your user pool and copy the value of the domain prefix.</li></ol></li><li>Login to your ADFS domain controller to add Cognito User Pool related information to configure trust.<ol><li>Open AD FS Management application.</li><li>Navigate to “Relying Party Trusts”.</li><li>Select the relying party you want to add trust to.</li><li>Open the “Identifiers” tab.</li><li>Enter the URN of the Cognito User Pool and click “Add”. The URN would be in the following format: <code>urn:amazon:cognito:sp:&lt;userPoolId&gt;</code>. Replace the <code>&lt;userPoolId&gt;</code> with the value of the User pool ID you obtained earlier.</li><li>Open the “Endpoints” tab and add the Service Provider (Cognito SAML assertion consumer) URL that will receive the SAML assertion from IdP. The url has the following format: <code>https://&lt;userPoolDomain&gt;.auth.&lt;region&gt;.amazoncognito.com/saml2/idpresponse</code>. Replace <code>&lt;userPoolDomain&gt;</code> with the value of the “Domain prefix” you obtained earlier. Replace the value of <code>&lt;region&gt;</code> with the region where you deployed the solution to.</li></ol></li></ol><p>You should now be able to log in to the Research as a Service solution using your AD credentials.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/deployment/configuration/auth/configuring_auth0"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Auth0 Setup Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/deployment/redeployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying Updates »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2AdJ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-relying-party-rp-in-adfs" class="table-of-contents__link">Create a Relying Party (RP) in ADFS</a></li><li><a href="#configure-relying-party-information-on-the-solution-side" class="table-of-contents__link">Configure Relying Party information on the solution side</a></li><li><a href="#add-relying-party-trust-for-the-cognito-user-pool-on-the-adfs-side" class="table-of-contents__link">Add Relying Party trust for the Cognito User Pool on the ADFS side</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/styles.c0a53c60.js"></script>
<script src="/docs/runtime~main.76781b24.js"></script>
<script src="/docs/main.7eb1c7c3.js"></script>
<script src="/docs/1.7cbe52f2.js"></script>
<script src="/docs/2.49368f54.js"></script>
<script src="/docs/59.d1c041d7.js"></script>
<script src="/docs/935f2afb.1e90a91b.js"></script>
<script src="/docs/17896441.5294e2c1.js"></script>
<script src="/docs/1419a383.c44403bd.js"></script>
</body>
</html>